<div ng-controller="groupCtrl">
	<div class="panel panel-default">
		<div class="panel-heading" id="CreateGroupHeading">Create Group</div>
		<div class="panel-body" ng-show="isManager">
			<form class="form-inline" action="CreateGroupServlet" method="post"
				id="doGroup">
				<div class="form-group">
					<label class="sr-only" for="groupCname">Group name</label> <input
						class="form-control" id="groupCname" name="groupCname"
						placeholder="Group name" ng-model="groupName">
				</div>


				<button type="submit" class="btn btn-default" id="GroupButton">Create</button>
			</form>
		</div>
		<div class="panel-heading">Current Groups</div>
		<div class="panel-body" id="curGroupPanel">
			<div class="row" id="curGroupM">
				<div ng-repeat='group in emp[1]'>
					<div class='col-md-3'>
						<div class='panel panel-default text-center'
							data-target='groupModal' id='btnOpenGroupModal'
							ng-click="groupModal($index)">

							<h4>{{group.name}}</h4>

						</div>
					</div>







					<!--  Modal for groups that a manager is in charge of -->
					<div class="modal fade" id="groupModal{{$index}}" tabindex="-1"
						role="dialog" aria-labelledby="mySmallModalLabel"
						aria-hidden="true">
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header" id="groupModalHeader">
									<div class="row">
										<div class="col-lg-offset-11">
											<button class="btn btn-warning" ng-click="removeGroup($index)">
												<span class="glyphicon glyphicon-remove"></span>
											</button>
										</div>
										<div class="col-md-6">
										<h3>{{emp[1][$index].name}}</h3>
										</div>
									</div>

								</div>
								<div class="modal-body" id="groupModalBody">
									<table class='table' ng-repeat='member in mGroup'>
										<tr>
											<td>{{member.fname}} {{member.lname}}</td>
											<td>{{member.email}}</td>
											<td>
												<button type='button' class='btn btn-danger'
													ng-click='removeMember($index, emp[1][$parent.$index].id)'>
													<span class='glyphicon glyphicon-remove'></span>Remove
													</div>
											</td>
										</tr>
									</table>
								</div>
								<div class="modal-footer" id="groupModalFooter">
									<div class="col-lg-6">
										<div class="input-group">
											<input type="text" class="form-control" id="memberToAdd"
												data-validation="email"
												data-validation-error-msg="You must enter a valid email"
												placeholder="Employee email" ng-model="memToAdd"><span
												class="input-group-btn">
												<button class="btn btn-default" type="button"
													ng-click="addMember(memToAdd)">Add</button>

											</span>

										</div>
										<!-- /input-group -->

									</div>

									<!-- /.col-lg-6 -->
								</div>
							</div>
						</div>

					</div>
					<!--  End Modal -->
				</div>
				<div ng-hide="isManager">
					<table class='table'>
						<tr>
							<th>Name</th>
							<th>Manager</th>
							<th>Completed</th>
						</tr>
						<tr>
							<td>{{emp[2].name}}</td>
							<td>{{emp[2].mgr}}</td>
							<td>{{emp[2].completed}}</td>
						</tr>
					</table>
				</div>


			</div>
		</div>
	</div>
</div>